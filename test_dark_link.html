<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="这是一个测试页面，用于验证渊照暗链扫描工具和无头浏览器检测能力">
    <meta name="keywords" content="测试,暗链,扫描,安全,无头浏览器">
    <title>暗链测试页面 - 无头浏览器检测测试</title>
    <style>
        /* 测试CSS中的隐藏技术 */
        .hidden1 {
            display: none;
        }
        .hidden2 {
            visibility: hidden;
        }
        .hidden3 {
            opacity: 0;
        }
        .hidden4 {
            position: absolute;
            left: -9999px;
            top: -9999px;
        }
        .hidden5 {
            z-index: -1;
        }
        .hidden6 {
            text-indent: -9999px;
        }
        .tiny-text {
            font-size: 0.1px;
        }
        .same-color {
            color: white;
            background-color: white;
        }
        /* 正常样式 */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
        }
        .normal-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .dynamic-content {
            background-color: #f8f9fa;
            padding: 10px;
            margin: 10px 0;
            border-left: 3px solid #6c757d;
        }
    </style>
    <script>
        // 测试可疑的JavaScript代码
        function normalFunction() {
            console.log('正常函数');
        }
        
        // 可疑的document.write
        document.write('<div style="display:none">http://evil-gambling-site.tk/promotion</div>');
        
        // 可疑的eval
        var encodedCode = 'alert("test");';
        eval(encodedCode);
        
        // 可疑的setTimeout
        setTimeout("window.location='http://malicious-phishing.ga/login'", 3000);
        
        // 可疑的window.open
        function openNormalLink() {
            window.open('https://www.example.com');
        }
        
        // 无头浏览器测试 - 动态生成链接
        document.addEventListener('DOMContentLoaded', function() {
            // 1. 延迟生成的可疑链接（无头浏览器应该能捕获）
            setTimeout(function() {
                const div = document.createElement('div');
                div.style.display = 'none';
                div.innerHTML = '<a href="http://dynamic-evil-link.tk/headless-test">无头浏览器测试 - 延迟生成链接</a>';
                document.body.appendChild(div);
                console.log('动态生成的隐藏链接已添加');
            }, 1000);
            
            // 2. 使用不同方式拼接的可疑URL
            const domainParts = ['gambling', '-hidden', '-site', '.tk'];
            const fullDomain = 'http://' + domainParts.join('');
            const linkElement = document.createElement('a');
            linkElement.href = fullDomain;
            linkElement.textContent = '拼接域名测试';
            linkElement.style.display = 'none';
            document.body.appendChild(linkElement);
            
            // 3. 模拟用户交互触发的隐藏链接
            function simulateUserInteraction() {
                const hiddenDiv = document.createElement('div');
                hiddenDiv.className = 'dynamic-content';
                hiddenDiv.style.display = 'none';
                hiddenDiv.innerHTML = '<a href="http://interaction-triggered.ml/click-me">交互触发链接</a>';
                document.body.appendChild(hiddenDiv);
            }
            
            // 模拟鼠标移动事件
            const mouseMoveEvent = new MouseEvent('mousemove', {
                bubbles: true,
                cancelable: true,
                view: window
            });
            document.dispatchEvent(mouseMoveEvent);
            
            // 鼠标事件处理器
            document.addEventListener('mousemove', simulateUserInteraction);
        });
        
        // 4. 使用fetch API加载可疑内容
        async function loadDynamicContent() {
            try {
                // 模拟fetch成功（实际环境中不会真正请求）
                const response = { ok: true, json: async () => ({
                    link: 'http://api-loaded-evil.cm/data',
                    content: '通过API加载的恶意内容'
                })};
                
                // 创建隐藏元素显示API返回的内容
                const apiContentDiv = document.createElement('div');
                apiContentDiv.style.opacity = '0';
                apiContentDiv.innerHTML = `<a href="${(await response.json()).link}">API加载的链接</a>`;
                document.body.appendChild(apiContentDiv);
            } catch (error) {
                console.log('模拟API请求失败');
            }
        }
        
        // 在页面加载后执行
        window.onload = function() {
            loadDynamicContent();
            
            // 5. 动态修改DOM属性
            setTimeout(function() {
                const dynamicElement = document.createElement('div');
                dynamicElement.setAttribute('data-malicious', 'http://dom-modified-attack.tf/exploit');
                document.body.appendChild(dynamicElement);
            }, 500);
            
            // 6. 模拟网络请求
            const xhr = new XMLHttpRequest();
            xhr.open('GET', 'http://network-request-test.ml/track');
            xhr.setRequestHeader('X-Test-Header', 'headless-browser-detection');
            xhr.send();
        };
    </script>
</head>
<body>
    <h1>正常网站内容</h1>
    
    <div class="normal-section">
        <h2>欢迎访问我们的网站</h2>
        <p>这是一个正常的网站内容段落，介绍网站的主要功能和服务。</p>
        <a href="https://www.example.com">正常链接</a>
    </div>
    
    <!-- 测试正常HTML注释 -->
    <!-- 这是一个正常的注释 -->
    
    <!-- 测试可疑的HTML注释中的链接 -->
    <!-- http://gambling-site.cm/register -->
    <!-- <a href="http://porn-site.ga/video">隐藏的链接</a> -->
    
    <!-- 测试iframe隐藏 -->
    <iframe src="http://malware-site.ml/install" style="width:0;height:0;border:none;display:none"></iframe>
    
    <!-- 测试各种CSS隐藏技术 -->
    <div class="hidden1">
        <a href="http://illegal-gambling.tf">隐藏的博彩链接</a>
    </div>
    
    <div class="hidden2">
        <a href="http://porn-site.ga">隐藏的色情链接</a>
    </div>
    
    <div class="hidden3">
        赌博网站推荐：http://bet365-clone.gq
    </div>
    
    <div class="hidden4">
        私服游戏下载：http://game-private-server.tk
    </div>
    
    <div class="hidden5">
        黑客工具：http://hacker-tools.ml
    </div>
    
    <div class="hidden6">
        时时彩预测：http://lottery-predict.cm
    </div>
    
    <div class="tiny-text">
        色情视频：http://adult-videos.ga
    </div>
    
    <div class="same-color">
        高利贷服务：http://loan-shark.tf
    </div>
    
    <!-- 测试meta标签中的可疑内容 -->
    <meta name="keywords" content="赌博 博彩 时时彩 六合彩 黄色网站 色情 黑客">
    
    <!-- 测试零宽字符隐藏（使用零宽空格、零宽连接符等） -->
    <p>正常文本<span style="display:none">http://hidden-evil-site.tk</span>继续正常文本</p>
    
    <!-- 测试空白字符堆积 -->
    <p>大量空格后的隐藏内容                                                                       http://hidden-link-using-spaces.ga</p>
    
    <!-- 测试多层嵌套隐藏 -->
    <div style="display:block">
        <div style="display:block">
            <div style="display:none">
                <a href="http://multi-level-hidden.ml">多层嵌套隐藏的链接</a>
            </div>
        </div>
    </div>
    
    <script>
        // 更多可疑JavaScript
        var xhr = new XMLHttpRequest();
        xhr.open('GET', 'http://data-collector.tk/track');
        xhr.send();
        
        // 测试fetch API
        fetch('http://analytics-evil.ga/collect')
            .then(response => response.json())
            .then(data => console.log(data));
        
        // 测试可疑的DOM操作
        var hiddenDiv = document.createElement('div');
        hiddenDiv.style.display = 'none';
        hiddenDiv.innerHTML = '<a href="http://dom-based-hidden.cm">DOM创建的隐藏链接</a>';
        document.body.appendChild(hiddenDiv);
    </script>
    
    <noscript>
        <!-- 测试noscript中的隐藏内容 -->
        <div style="display:none">
            <a href="http://noscript-hidden.tf">NoScript中的隐藏链接</a>
        </div>
    </noscript>
</body>

</html>